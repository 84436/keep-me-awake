import{o as d,c as u,w as p,V as S,a as f,b as v,d as y,e as b,f as h,g as T,h as V}from"./vendor.006300b1.js";const E=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}};E();let l=null,k=()=>{},w=()=>{};"wakeLock"in navigator?(k=()=>{try{navigator.wakeLock.request("screen").then(e=>{l=e}),console.log("Wakelock Service: wakelock acquired.")}catch(e){console.error(`Wakelock Service: Cannot acquire wakelock: ${e.message}`)}},w=()=>{l&&l.release().then(()=>{l=null,console.log("Wakelock Service: wakelock released.")})}):console.warn("Wakelock Service: Wakelocks are not supported in this browser. Sorry.");let s=null;const L="#video-element",O=()=>{s=document.querySelector(L),s?console.log("Video Service: setup completed"):console.error("Video Service: video element is not present -- This should not happen.")},W=()=>{s||O(),s.play(),console.log("Video Service: video started")},$=()=>{s.pause(),s.currentTime=0,console.log("Video Service: video stopped")};let c=null;const F="#favicon-element",m=`${location.pathname.substring(0,location.pathname.length-1)}`,g={DEFAULT:`${m}/favicon.svg`,SLEEP:`${m}/favicon.svg`,AWAKE:`${m}/favicon_awake.svg`},K=()=>{c=document.querySelector(F),c?console.log("Favicon Service: setup completed"):console.error("Favicon Service: favicon element is not present -- dynamic favicon will not be available.")},A=e=>{c||K(),c.setAttribute("href",e),console.log(`Favicon Service: icon set to ${e}`)};var N="/keep-me-awake/blank.mp4";var q=(e,n)=>{const i=e.__vccOpts||e;for(const[r,t]of n)i[r]=t;return i};const _=28800,U={name:"App",data:()=>({isAwake:!1,countdown:_,countdownTimeoutObj:null}),computed:{theme(){return this.isAwake?"light":"dark"},switchLabel(){return`Keep me awake for ${this.formatTime(this.countdown)}`}},watch:{countdown(e){e===0&&(this.isAwake=!1,this.countdown=_)},isAwake(e){e?this.startKeepAwake():this.stopKeepAwake()}},methods:{startTimer(){this.countdown-=1,this.countdownTimeoutObj=setTimeout(this.startTimer,1e3)},stopTimer(){clearTimeout(this.countdownTimeoutObj)},startKeepAwake(){k(),W(),A(g.AWAKE),this.countdown+=1,this.startTimer()},stopKeepAwake(){w(),$(),A(g.SLEEP),this.stopTimer()},formatTime(e){return new Date(e*1e3).toISOString().substring(11,19)}}},I={id:"app-element"},P=h("mdi-white-balance-sunny"),j=h("mdi-power-sleep"),x=f("video",{loop:"",id:"video-element",src:N},null,-1);function B(e,n,i,r,t,o){return d(),u(S,{theme:o.theme},{default:p(()=>[f("div",I,[e.isAwake?(d(),u(v,{key:0,size:"128"},{default:p(()=>[P]),_:1})):(d(),u(v,{key:1,size:"128"},{default:p(()=>[j]),_:1})),y(b,{color:"black",class:"flex-grow-0 ma-0 pa-0",dense:"",modelValue:e.isAwake,"onUpdate:modelValue":n[0]||(n[0]=a=>e.isAwake=a),label:o.switchLabel,"hide-details":!0},null,8,["modelValue","label"]),x])]),_:1},8,["theme"])}var C=q(U,[["render",B]]);var D=T();V(C).use(D).mount("#app");
